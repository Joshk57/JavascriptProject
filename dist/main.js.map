{"version":3,"file":"main.js","mappings":"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","sources":["webpack://javascriptproject/./src/scripts/fetch_movies.js","webpack://javascriptproject/./src/scripts/modal.js","webpack://javascriptproject/./src/scripts/create_graph.js","webpack://javascriptproject/./src/scripts/fetch_info.js","webpack://javascriptproject/./src/index.js"],"sourcesContent":["export async function fetchMovies(arg) {\n    const url = 'https://imdb-top-100-movies.p.rapidapi.com/';\n    const options = {\n        method: 'GET',\n        headers: {\n            'X-RapidAPI-Key': 'acd4d417f3msh22cbb2688691676p165cfcjsn3f566e20b85c',\n            'X-RapidAPI-Host': 'imdb-top-100-movies.p.rapidapi.com'\n        }\n    };\n\n    try {\n        const response = await fetch(url, options);\n        const result = await response.json();\n        let action_data = [];\n        \n        result.forEach(ele => {\n            if (ele[\"genre\"].includes(arg)) {\n                let hash = {}\n                hash[\"title\"] = ele[\"title\"]\n                hash[\"rating\"] = ele[\"rating\"]\n                action_data.push(hash)\n            };\n        });\n        return action_data;\n    } catch (error) {\n        console.error(error);\n    };\n};\n\n\n","export function movieModal(event, data) {\n    const modal = document.querySelector(\".modal\");\n  \n    if (event.target === event) {\n      modal.style.display = \"block\";\n    }\n  \n    const movieDetails = document.getElementById('movie-details');\n    movieDetails.innerHTML = '';\n  \n    const detailsList = document.createElement('ul');\n\n    const image = createListItem('Image', '', data[0]);\n    detailsList.appendChild(image);\n\n    const title = createListItem('Title', data[1]);\n    detailsList.appendChild(title);\n\n    const year = createListItem('Year', data[2]);\n    detailsList.appendChild(year);\n\n    const rating = createListItem('Rating', data[3]);\n    detailsList.appendChild(rating);\n\n    const director = createListItem('Director', data[4]);\n    detailsList.appendChild(director);\n\n    const description = createListItem('Description', data[5]);\n    detailsList.appendChild(description);\n\n    movieDetails.appendChild(detailsList);\n  }\n  \nfunction createListItem(key, value, imgURL) {\n    const listItem = document.createElement('li');\n\n    const labelElement = document.createElement('span');\n    labelElement.textContent = key + ': ';\n    listItem.appendChild(labelElement);\n\n    const valueElement = document.createElement('span');\n    valueElement.textContent = value;\n    listItem.appendChild(valueElement);\n\n    const imgElement = document.createElement('img');\n    imgElement.src = imgURL;\n    listItem.appendChild(imgElement);\n\n    return listItem;\n}\n","import { fetchInfo } from \"./fetch_info\";\nimport { movieModal } from \"./modal\";\n\nexport async function createGraph(data) {\n  clearGraph();\n  const barHeight = 35;\n  const marginTop = 130;\n  const marginRight = 10;\n  const marginBottom = 200;\n  const marginLeft = 600;\n  const width = 1100;\n  const height = Math.ceil((data.length + 0.1) * barHeight) + marginTop + marginBottom;\n\n  const xAxisLabel = \"\";\n  const yAxisLabel = \"\";\n  \n  const x = d3.scaleLinear()\n    .domain([0, 10])\n    .range([marginLeft, width - marginRight]);\n\n  const y = d3.scaleBand()\n    .domain(d3.sort(data, d => -d.rating).map(d => d.title))\n    .rangeRound([marginTop, height - marginBottom])\n    .padding(0.1);\n\n  const format = x.tickFormat(20, \".1f\");\n\n  const svg = d3.create(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", [0, 0, width, height])\n    .attr(\"style\", \"max-width: 100%; height: auto; font: 20px Monday Vacation Sans Serif;\");\n      \n  const container = document.getElementById(\"chartContainer\");\n  container.appendChild(svg.node());\n\n  const modal = document.getElementById(\"myModal\");\n  const span = document.getElementsByClassName(\"close\")[0];\n\n  svg.append(\"g\")\n    .attr(\"fill\", \"teal\")\n    .selectAll()\n    .data(data)\n    .join(\"rect\")\n    .attr(\"x\", x(0))\n    .attr(\"y\", (d) => y(d.title))\n    .attr(\"width\", (d) => x(d.rating) - x(0))\n    .attr(\"height\", y.bandwidth())\n    .style(\"cursor\", \"pointer\")\n    .on(\"click\", async (event, d) => {\n      modal.style.display = \"block\"\n      const id = await fetchInfo(d)\n      movieModal(event, id)\n    })\n    .on('mouseover', function() {\n      d3.select(this).style('fill', 'orange');\n    })\n    .on('mouseout', function() {\n      d3.select(this).style('fill', 'teal');\n    });\n\n  window.onclick = function(event) {\n    if (event.target == modal) {\n        modal.style.display = \"none\";\n    };\n  };\n  span.onclick = function() {\n    modal.style.display = \"none\";\n  };\n\n  svg.append(\"g\")\n    .attr(\"fill\", \"white\")\n    .attr(\"text-anchor\", \"end\")\n    .selectAll()\n    .data(data)\n    .join(\"text\")\n    .attr(\"x\", (d) => x(d.rating))\n    .attr(\"y\", (d) => y(d.title) + y.bandwidth() / 2)\n    .attr(\"dy\", \"0.35em\")\n    .attr(\"dx\", -4)\n    .text((d) => format(d.rating))\n    .call((text) => text.filter(d => x(d.rating) - x(0) < 20) \n      .attr(\"dx\", +4)\n      .attr(\"fill\", \"black\")\n      .attr(\"text-anchor\", \"start\"));\n\n  svg.append(\"g\")\n  .attr(\"transform\", `translate(0,${marginTop})`)\n  .call(d3.axisTop(x).ticks(width / 80, \".0f\"))\n  .call(g => g.select(\".domain\").remove())\n  .selectAll(\"text\")\n  .style(\"font-size\", \"18px\")\n  .style(\"fill\", \"white\");\n\n  svg.append(\"g\")\n    .attr(\"transform\", `translate(${marginLeft},0)`)\n    .call(d3.axisLeft(y).tickSizeOuter(0))\n    .selectAll(\"text\") \n    .style(\"font-size\", \"18px\") \n    .style(\"fill\", \"white\"); \n\n  svg.append(\"text\")\n    .attr(\"class\", \"x-axis-label\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"x\", width / 2)\n    .attr(\"y\", height - marginBottom / 2)\n    .text(xAxisLabel)\n    .style(\"font-size\", \"16\");\n};\n\nfunction clearGraph() {\n    const svg = d3.select('svg');\n    svg.remove();\n};\n\n","export async function fetchInfo(data) {\n    const url = 'https://imdb-top-100-movies.p.rapidapi.com/';\n    const options = {\n        method: 'GET',\n        headers: {\n            'X-RapidAPI-Key': 'acd4d417f3msh22cbb2688691676p165cfcjsn3f566e20b85c',\n            'X-RapidAPI-Host': 'imdb-top-100-movies.p.rapidapi.com'\n        }\n    };\n\n    try {\n        const response = await fetch(url, options);\n        const result = await response.json();\n\n        const movie = result.find(ele => ele.title === data.title); \n        let info = [];\n        if (movie) {\n            info.push(movie.image, movie.title, movie.year, movie.rating, movie.director, movie.description)\n            return info;\n        } else {\n          console.error('Movie not found');\n          return null; \n        };\n\n    } catch (error) {\n        console.error(error);\n    };\n};\n","import { fetchMovies } from \"./scripts/fetch_movies\";\nimport {createGraph} from \"./scripts/create_graph\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    const actionBtn = document.querySelector(\"#actionBtn\")\n    actionBtn.addEventListener(\"click\", async () => {\n        const action = await fetchMovies(\"Action\");\n        createGraph(action);\n    });\n\n    const adventureBtn = document.querySelector(\"#adventureBtn\")\n    adventureBtn.addEventListener(\"click\", async () => {\n        const adventure = await fetchMovies(\"Adventure\");\n        createGraph(adventure);\n    });\n\n    const animationBtn = document.querySelector(\"#animationBtn\")\n    animationBtn.addEventListener(\"click\", async () => {\n        const animation = await fetchMovies(\"Animation\");\n        createGraph(animation);\n    });\n    \n    const biographyBtn = document.querySelector(\"#biographyBtn\")\n    biographyBtn.addEventListener(\"click\", async () => {\n        const biography = await fetchMovies(\"Biography\");\n        createGraph(biography);\n    });\n    \n    const comedyBtn = document.querySelector(\"#comedyBtn\")\n    comedyBtn.addEventListener(\"click\", async () => {\n        const comedy = await fetchMovies(\"Comedy\");\n        createGraph(comedy);\n    });\n\n    const crimeBtn = document.querySelector(\"#crimeBtn\")\n    crimeBtn.addEventListener(\"click\", async () => {\n        const crime = await fetchMovies(\"Crime\");\n        createGraph(crime);\n    });\n    \n    const dramaBtn = document.querySelector(\"#dramaBtn\")\n    dramaBtn.addEventListener(\"click\", async () => {\n        const drama = await fetchMovies(\"Drama\");\n        createGraph(drama);\n    });\n    \n    const familyBtn = document.querySelector(\"#familyBtn\")\n    familyBtn.addEventListener(\"click\", async () => {\n        const family = await fetchMovies(\"Family\");\n        createGraph(family);\n    });\n\n    const fantasyBtn = document.querySelector(\"#fantasyBtn\")\n    fantasyBtn.addEventListener(\"click\", async () => {\n        const fantasy = await fetchMovies(\"Fantasy\");\n        createGraph(fantasy);\n    });\n\n    const filmnoirBtn = document.querySelector(\"#filmnoirBtn\")\n    filmnoirBtn.addEventListener(\"click\", async () => {\n        const filmnoir = await fetchMovies(\"Film-Noir\");\n        createGraph(filmnoir);\n    });\n    \n    const horrorBtn = document.querySelector(\"#horrorBtn\")\n    horrorBtn.addEventListener(\"click\", async () => {\n        const horror = await fetchMovies(\"Horror\");\n        createGraph(horror);\n    });\n\n    const musicalBtn = document.querySelector(\"#musicalBtn\")\n    musicalBtn.addEventListener(\"click\", async () => {\n        const musical = await fetchMovies(\"Musical\");\n        createGraph(musical);\n    });\n\n    const mysteryBtn = document.querySelector(\"#mysteryBtn\")\n    mysteryBtn.addEventListener(\"click\", async () => {\n        const mystery = await fetchMovies(\"Mystery\");\n        createGraph(mystery);\n    });\n\n    const romanceBtn = document.querySelector(\"#romanceBtn\")\n    romanceBtn.addEventListener(\"click\", async () => {\n        const romance = await fetchMovies(\"Romance\");\n        createGraph(romance);\n    });\n\n    const scifiBtn = document.querySelector(\"#scifiBtn\")\n    scifiBtn.addEventListener(\"click\", async () => {\n        const scifi = await fetchMovies(\"Sci-Fi\");\n        createGraph(scifi);\n    });\n\n    const thrillerBtn = document.querySelector(\"#thrillerBtn\")\n    thrillerBtn.addEventListener(\"click\", async () => {\n        const thriller = await fetchMovies(\"Thriller\");\n        createGraph(thriller);\n    });\n\n    const warBtn = document.querySelector(\"#warBtn\")\n    warBtn.addEventListener(\"click\", async () => {\n        const war = await fetchMovies(\"War\");\n        createGraph(war);\n    });\n\n    const westernBtn = document.querySelector(\"#westernBtn\")\n    westernBtn.addEventListener(\"click\", async () => {\n        const western = await fetchMovies(\"Western\");\n        createGraph(western);\n    });\n});\n"],"names":["async","fetchMovies","arg","options","method","headers","response","fetch","result","json","action_data","forEach","ele","includes","hash","push","error","console","createListItem","key","value","imgURL","listItem","document","createElement","labelElement","textContent","appendChild","valueElement","imgElement","src","createGraph","data","d3","select","remove","height","Math","ceil","length","x","scaleLinear","domain","range","width","y","scaleBand","sort","d","rating","map","title","rangeRound","padding","format","tickFormat","svg","create","attr","getElementById","node","modal","span","getElementsByClassName","append","selectAll","join","bandwidth","style","on","event","display","id","movie","find","info","image","year","director","description","fetchInfo","querySelector","target","movieDetails","innerHTML","detailsList","movieModal","this","window","onclick","text","call","filter","axisTop","ticks","g","axisLeft","tickSizeOuter","marginBottom","addEventListener"],"sourceRoot":""}