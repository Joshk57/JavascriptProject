!function(){"use strict";!function(){async function t(t){const e={method:"GET",headers:{"X-RapidAPI-Key":"acd4d417f3msh22cbb2688691676p165cfcjsn3f566e20b85c","X-RapidAPI-Host":"imdb-top-100-movies.p.rapidapi.com"}};try{const n=await fetch("https://imdb-top-100-movies.p.rapidapi.com/",e),a=await n.json();let c=[];return a.forEach((e=>{if(e.genre.includes(t)){let t={};t.title=e.title,t.rating=e.rating,c.push(t)}})),c}catch(t){console.error(t)}}function e(t,e,n){const a=document.createElement("li"),c=document.createElement("span");c.textContent=t+": ",a.appendChild(c);const i=document.createElement("span");i.textContent=e,a.appendChild(i);const r=document.createElement("img");return r.src=n,a.appendChild(r),a}async function n(t){d3.select("svg").remove();const n=Math.ceil(35*(t.length+.1))+130+200,a=d3.scaleLinear().domain([0,10]).range([600,1090]),c=d3.scaleBand().domain(d3.sort(t,(t=>-t.rating)).map((t=>t.title))).rangeRound([130,n-200]).padding(.1),i=a.tickFormat(20,".1f"),r=d3.create("svg").attr("width",1100).attr("height",n).attr("viewBox",[0,0,1100,n]).attr("style","max-width: 100%; height: auto; font: 20px Monday Vacation Sans Serif;");document.getElementById("chartContainer").appendChild(r.node());const o=document.getElementById("myModal"),d=document.getElementsByClassName("close")[0];r.append("g").attr("fill","teal").selectAll().data(t).join("rect").attr("x",a(0)).attr("y",(t=>c(t.title))).attr("width",(t=>a(t.rating)-a(0))).attr("height",c.bandwidth()).style("cursor","pointer").on("click",(async(t,n)=>{o.style.display="block";const a=await async function(t){const e={method:"GET",headers:{"X-RapidAPI-Key":"acd4d417f3msh22cbb2688691676p165cfcjsn3f566e20b85c","X-RapidAPI-Host":"imdb-top-100-movies.p.rapidapi.com"}};try{const n=await fetch("https://imdb-top-100-movies.p.rapidapi.com/",e),a=(await n.json()).find((e=>e.title===t.title));let c=[];return a?(c.push(a.image,a.title,a.year,a.rating,a.director,a.description),c):(console.error("Movie not found"),null)}catch(t){console.error(t)}}(n);!function(t,n){const a=document.querySelector(".modal");t.target===t&&(a.style.display="block");const c=document.getElementById("movie-details");c.innerHTML="";const i=document.createElement("ul"),r=e("Image","",n[0]);i.appendChild(r);const o=e("Title",n[1]);i.appendChild(o);const d=e("Year",n[2]);i.appendChild(d);const l=e("Rating",n[3]);i.appendChild(l);const s=e("Director",n[4]);i.appendChild(s);const m=e("Description",n[5]);i.appendChild(m),c.appendChild(i)}(t,a)})).on("mouseover",(function(){d3.select(this).style("fill","orange")})).on("mouseout",(function(){d3.select(this).style("fill","teal")})),window.onclick=function(t){t.target==o&&(o.style.display="none")},d.onclick=function(){o.style.display="none"},r.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(t).join("text").attr("x",(t=>a(t.rating))).attr("y",(t=>c(t.title)+c.bandwidth()/2)).attr("dy","0.35em").attr("dx",-4).text((t=>i(t.rating))).call((t=>t.filter((t=>a(t.rating)-a(0)<20)).attr("dx",4).attr("fill","black").attr("text-anchor","start"))),r.append("g").attr("transform","translate(0,130)").call(d3.axisTop(a).ticks(13.75,".0f")).call((t=>t.select(".domain").remove())).selectAll("text").style("font-size","18px").style("fill","white"),r.append("g").attr("transform","translate(600,0)").call(d3.axisLeft(c).tickSizeOuter(0)).selectAll("text").style("font-size","18px").style("fill","white"),r.append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",550).attr("y",n-100).text("").style("font-size","16")}document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("#actionBtn").addEventListener("click",(async()=>{n(await t("Action"))})),document.querySelector("#adventureBtn").addEventListener("click",(async()=>{n(await t("Adventure"))})),document.querySelector("#animationBtn").addEventListener("click",(async()=>{n(await t("Animation"))})),document.querySelector("#biographyBtn").addEventListener("click",(async()=>{n(await t("Biography"))})),document.querySelector("#comedyBtn").addEventListener("click",(async()=>{n(await t("Comedy"))})),document.querySelector("#crimeBtn").addEventListener("click",(async()=>{n(await t("Crime"))})),document.querySelector("#dramaBtn").addEventListener("click",(async()=>{n(await t("Drama"))})),document.querySelector("#familyBtn").addEventListener("click",(async()=>{n(await t("Family"))})),document.querySelector("#fantasyBtn").addEventListener("click",(async()=>{n(await t("Fantasy"))})),document.querySelector("#filmnoirBtn").addEventListener("click",(async()=>{n(await t("Film-Noir"))})),document.querySelector("#horrorBtn").addEventListener("click",(async()=>{n(await t("Horror"))})),document.querySelector("#musicalBtn").addEventListener("click",(async()=>{n(await t("Musical"))})),document.querySelector("#mysteryBtn").addEventListener("click",(async()=>{n(await t("Mystery"))})),document.querySelector("#romanceBtn").addEventListener("click",(async()=>{n(await t("Romance"))})),document.querySelector("#scifiBtn").addEventListener("click",(async()=>{n(await t("Sci-Fi"))})),document.querySelector("#thrillerBtn").addEventListener("click",(async()=>{n(await t("Thriller"))})),document.querySelector("#warBtn").addEventListener("click",(async()=>{n(await t("War"))})),document.querySelector("#westernBtn").addEventListener("click",(async()=>{n(await t("Western"))}))}))}()}();
//# sourceMappingURL=main.js.map